Creating an application with MEAN Stack.

Angular template github link:
https://github.com/primefaces/sakai-ng.git

npm uninstall -g @angular/cli
npm i @angular/cli@15.1.4


"./node_modules/@popperjs/core/dist/umd/popper.min.js",
"./node_modules/bootstrap/dist/js/bootstrap.min.js",


-- How to push your project to git
Create git repo, copy the url
Open your project in Vscode and write

git init
git remote add origin <repo url here> Paste the copied repo url
git remote -v  this will show if your git has be initialized

It will look like this below:
$ origin  git@github.com:your-username/repo-name.git (fetch)
$ origin  git@github.com:your-username/repo-name.git (push)

Next is to add, commit and push your project.

git add .
git commit -m "your commit"
git push -u origin master

* If it your first time, you will require to do this:

git config --global user.email "you@example.com", put your git email address

git config --global user.name "Your Name", put your git name as it is written in your git account then try the process again.
This time, everything should be fine.

To create branch of your git, use the follow command:

git checkout -b <new-branch-name>

Remember to commit and push regularly, and give yourself descriptive commit messages so that itâ€™s easy to track the progress of your project, and see where to go back to if you need to revert to a previous state.
https://medium.com/swlh/using-git-how-to-go-back-to-a-previous-commit-8579ccc8180f


Building the backend of the application:

STeps to follow:

Install node in your system
Install npm in your system
Install angular globally in your system.

Create a folder anywhere in your system to start your application.
Open your Vscode and open the folder in Vscode

Starting with the backend API development

-- run npm init -y 
Run this inside the backend api folder

Install express
-- npm i express
Install nodemon: this is only for development to enable your server to be auto start

-- npm i nodemon - D

Under the scripts inside package.json remove the test and add:
"start": "node server",
"dev": "nodemon server"

-- create file to avoid sending node_modules to github
.gitignore
Then write: node_modules 

-- create a server file
server.js  and write some code inside

To run this server: write
npm run dev

-- Create some middleware for the application
Type of middleware are:

1, Built-in middleware
2, Custom Middleware
3, 3rd party middleware

1, app.use(express.json())

For custom middleware, install date-fns uuid
2, npm i date-fns uuid

the uuid is use to create a specific ID for each record

Go inside the middleware folder and create a file name
logger.js and then write some codes in it.
also create errorhandler.js file and write your code insde

3, For 3rd party middleware, install cookie parser, CORS
(crose origin resource sharing).

this third party middleware is very important whenever you are developing api application in your project.

npm i cookie-parser

npm i cors   Install CORS for your application

Go to the server.js and import the cookier-parser, cors and call it for use.

what ever 3rd part middleware you want in your application can be added as per your need.

You can create a folder call config and create some files inside for cors origin handler.

create allowedOrigins.js file

and write some code inside the file

create corsOptions.js file
and write some code inside

then import it in the server.js and use it.


-- Now install dotenv dependence 

npm i dotenv  

this is for environmental variable storing. to help protect some secret variables in your application.
 
After installing, then go to server.js file and require it on top of the page so that you can be able to use it anywhere in your project.

require('dotenv').config()

Then create a dotenv file in the root project
.env
then write some code inside.
then import it in your server.js or anywhere you want to use it.

B8IS5Lmm03KVpO83
angular_bank_demo

mongodb+srv://<username>:<password>@cluster0.utkcye8.mongodb.net/?retryWrites=true&w=majority

-- Install mongoose
npm i mongoose


-- create folder to store all data module for your application
Then create data model files inside

User.js and create all the fields inside.

-- mongoose sequence will help you to create a serial auto ID record like a ticket ID number and you can specify where the number will start from. 
So, install it in your project.

npm i mongoose-sequence

Then import it inside any of the model file where you want to use it.

-- create database connect
Go to the config folder and create a new file name call it dbConn.js and write you code inside.

dbConn.js

Then go to server.js and import some few items and the connection
And then create the database connection at the bottom page 

-- create route file to handle all routes for the application.
create it inside the route folder

-- Create controller for model and data request communication
Create this folder in the main root of the project.
controller folder and then create all the function inside

-- Install express-async-handler and bcrty

npm i express-async-handler bcrypt

bcrypt is use to hash password or any text that you want hash

async-handler will help in so many try catch error as we use mongoose in our project
This will handle same thing that try and catch would have done.

AFter you created your controller, you can test it with postman to see if your api endpoint is working.

-- Installing fontawesome
npm i @fortawesome/fontawesome-svg-core @fortawesome/free-solid-svg-icons @fortawesome/angular-fontawesome


-- Start the frontend development

You need to install nodejs and angular cli in your system before you can start angular project.

-- npm install -global @angular/cli

-- To  create new angular project you do this:
-- ng new project name

To run your angular project you use this:

-- ng serve

class="fa fa-car" style="font-size:60px;color:red;"

-- After integrating your template, you can start by creating your project structure and all other pages that you need for the project.

-- ng g c components/name of the page
this is use to create a component like creating a page for your website.

-- Go into the file.html and design your UI

-- Connect your application to backend
You need to create service to handle that.

--- ng g s service/auth, this is use to create service
Open the service file and write your code

we need to make http request to the backend api
So, import httpClient inside the service.ts file

After writing the code in the service.ts file, we need to connect it to the component
Go to the register.component.ts file and import the service

-- then also add the service in app.module.ts, add also HttpClientModule.

put it inside the provide [];

providers: [
    AuthServiceService
  ],

then put HttpClientModule inside the export array like this
exports: [
HttpClientModule
]

-- creating registration page/ form insertion data to backend, you need to import ReactiveFormsModule in the app.module.ts file
and also import it in the 
imports:[
ReactiveFormsModule 
]


-- Then in the registration ts file page, you will do this:

profileForm = new FormGroup({
    firstName: new FormControl(''),
    lastName: new FormControl(''),
  });

This will hold your input from the html page to send to backend api.

Pls check the file code for more details.

-- Image/file upload using multer

install multer  npm install --save multer

-- Image/file upload example code

const storage = multer.diskStorage({
  destination: function (req, file, cb) {
    cb(null, '/tmp/my-uploads')
  },
  filename: function (req, file, cb) {
    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)
    cb(null, file.fieldname + '-' + uniqueSuffix)
  }
})

const upload = multer({ storage: storage })

 const multer = require('multer')
     const upload = multer().single('avatar')

        app.post('/profile', function (req, res) {
        upload(req, res, function (err) {
            if (err instanceof multer.MulterError) {
            // A Multer error occurred when uploading.
            } else if (err) {
            // An unknown error occurred when uploading.
            }

            // Everything went fine.
        })
        })


-- Angular basic pagination:
install ngx-pagination

npm i ngx-pagination

Then, import it in app.module.ts and also add it in the export array section.
Pls check code for more details

-- Chart graph
to use chart graph, install this in frontend project 

npm i chart.js

-- How to protect routes, pages in angular

1, Create a route guard as a service 
( ng g g services/IsAuthenticate)
 
2, Write your conditional code inside to determine if user is logged in or not, it should return true or false

(A) Get user logged in status like localstorage details to know if user login exist or if there token. And assign it to variable in the AuthGuard calss to determine if loggin is true or false.

(B) You can also use variable method to get user loggin status, and assign it to AuthGuard to determine if loggin is true or false.

3, Add the route guard service into app.module providers array section: 
providers: [ put the service calls name here ... ]

4, Go to the route you want to protect and add the route guard service on it.

5, Go to login page and call the route guard service to assign user login status like, loggin is true.

Pls, check previous project for better underrstanding...

-- Guard service can also be use to check if user level is admin or user. 
You can also do the user access level programically on the page that you want to give user access to.


To use one service class inside another service, you will need to decorate the reciever with @Injectable()  this angular standard way of doing this.









